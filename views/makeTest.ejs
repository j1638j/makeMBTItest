<% layout('layouts/boilerplate') %>

    <!-- 1. 선호경향과 채점기준을 입력해 주세요. (예: 에너지 방향(E, I) 3점 미만 I, 3점 이상 E) -->
    <!-- 2. 질문과 선택지를 입력해 주세요. -->
    <!-- 3. 결과의 경우의 수를 입력해 주세요. -->

    <!-- Circles which indicates the steps of the form: -->
    <div style="text-align:center;margin-top:40px;">
        <span class="step"></span>
        <span class="step"></span>
        <span class="step"></span>
        <span class="step"></span>
    </div>


    <div>
        <!-- First Tab -->
        <div class="container mb-5 tab">
            <div class="row">
                <div
                    class="col-md-10 offset-md-1 col-xl-8 offset-xl-2 border rounded-3 border-2 border-primary mt-5 p-3">
                    <div class="mb-3 text-center">
                        <h3>테스트 이름을 입력해 주세요.</h3>
                    </div>
                    <input required class="form-control form-control-lg" id="test-name-input" type="text"
                        placeholder="예) 나는 어떤 종류의 사람일까? " name="test[title]">
                </div>
            </div>
        </div>


        <!-- Second Tab -->
        <div class="tab container mb-5">
            <div class="row">
                <div
                    class="col-md-10 offset-md-1 col-xl-8 offset-xl-2 border rounded-3 border-2 border-primary mt-5 p-3">
                    <div class="mt-3 mb-5 text-center">
                        <h3>채점기준을 입력해 주세요.</h3>
                        <h5 class="text-muted">예) 에너지 방향 기준점수 3점 미만(0~2점) I, 3점 이상 E</h6>
                    </div>
                    <div id="second-question">
                        <div class="row mb-3">
                            <div class="col-10 offset-1">
                                <h6>채점기준 <span class="text-muted">예)에너지 방향</span></h6>
                                <input class="form-control" id="criteria-preference" type="text" name="criteria[name]">
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-10 offset-1">
                                <h6>기준점수</h6>
                                <input class="form-control" id="criteria-standard-score" type="number" min="0"
                                    name="criteria[standardScore]">

                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-10 offset-1">
                                <h6>기준점수 미만</h6>
                                <input class="form-control" id="criteria-below-standard-is" type="text"
                                    placeholder="type1" name="criteria[belowStandardIs]">
                            </div>
                        </div>

                        <div class="row mb-3">
                            <div class="col-10 offset-1">
                                <h6>기준점수 이상</h6>
                                <input class="form-control" id="criteria-standard-and-above-is" type="text"
                                    placeholder="type2" name="criteria[standardAndAboveIs]">
                            </div>
                            <div id="criteria-empty-input-alert" class="col-10 offset-1 alert alert-primary my-4"
                                style="display: none;" role="alert">
                                모든 값을 입력한 후에 추가해 주세요.
                            </div>
                            <div id="criteria-same-input-alert" class="col-10 offset-1 alert alert-primary my-4"
                                style="display: none;" role="alert">
                                기준점수 미만과 기준점수 이상이 같은 값일 수 없습니다.
                            </div>
                            <div class="col-10 offset-1 d-grid gap-2 d-md-flex justify-content-md-end mt-4 mb-3">
                                <button id="add-criteria-button" class="btn btn-outline-primary text-wrap"
                                    type="button">채점기준 추가</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="finished-criteria-div" class="col-md-10 offset-md-1 col-xl-8 offset-xl-2 mt-5">
                </div>
            </div>
        </div>




        <!-- Third Tab -->
        <div class="tab container mb-5">
            <div class="row">
                <div
                    class="col-md-10 offset-md-1 col-xl-8 offset-xl-2 border rounded-3 border-2 border-primary mt-5 p-3">
                    <div class="mt-3 mb-5 text-center">
                        <h3>질문과 선택지를 입력해 주세요.</h3>
                        <h5 class="text-muted px-5">예) 선택지1을 선택하면 채점기준인 '에너지방향'에 1점</h5>
                        <h5 class="text-muted px-5"> 선택지2를 선택하면 채점기준인 '에너지방향'에 0점</h5>

                    </div>
                    <div id="third-question">
                        <div class="my-4 mx-4">
                            <h6>질문</h6>
                            <textarea name="question[question]" id="question" class="col-12 form-control" rows="2"
                                placeholder="예)처음 보는 사람을 만나면 나는..."></textarea>
                        </div>
                        <div class="my-4 mx-4">
                            <h6>채점기준 <span class="text-muted">예) 에너지방향</span></h6>
                            <select id="option-criterion-select" name="option[criterion]" class="form-select">
                                <option selected value="">선택</option>
                            </select>
                        </div>
                        <div class="my-4 mx-4">
                            <h6>선택지1</h6>
                            <textarea name="option[option-1]" id="option1" class="col-12 p-2 form-control" rows="2"
                                placeholder="예)먼저 말을 걸고 금방 친해진다."></textarea>
                            <input class="form-control mt-1" type="number" name="option[score]" id="option-score-1"
                                placeholder="기준점수" min="0">
                        </div>
                        <div class="my-4 mx-4">
                            <h6>선택지2</h6>
                            <textarea name="option[option-2]" id="option2" class="col-12 p-2 form-control" rows="2"
                                placeholder="예)먼저 다가가지 않는다."></textarea>
                            <input class="form-control mt-1" type="number" name="option[score]" id="option-score-2"
                                placeholder="기준점수" min="0">
                        </div>
                        <div class="my-4 mx-4">
                            <div id="question-empty-input-alert" class="col-10 offset-1 alert alert-primary my-4"
                                style="display: none;" role="alert">
                                모든 값을 입력한 후에 추가해 주세요.
                            </div>
                            <div id="question-same-input-alert" class="col-10 offset-1 alert alert-primary my-4"
                                style="display: none;" role="alert">
                                선택지1과 선택지2의 값이 같을 수 없습니다.
                            </div>
                            <button id="add-question-button"
                                class="btn btn-outline-primary align-text-bottom float-end mt-4 mb-3" type="button">질문
                                추가</button>
                        </div>
                    </div>
                </div>
                <div id="finished-question-div" class="col-md-10 offset-md-1 col-xl-8 offset-xl-2 mt-5">
                </div>
            </div>
        </div>




        <!-- Fourth Tab -->
        <div class="tab container mb-5">
            <div class="row">

                <div
                    class="col-md-10 offset-md-1 col-xl-8 offset-xl-2 border rounded-3 border-2 border-primary mt-5 p-3">
                    <div class="mt-3 mb-5 text-center">
                        <h3>결과의 모든 경우의 수를 입력해 주세요.</h3>
                        <h5 class="text-muted">모든 경우의 수가 입력되지 않으면 오류가 생길 수 있습니다.</h6>
                    </div>

                    <div class="row">
                        <div id="result-case" class="col-10 offset-1">
                            <div id="result-name-div" class="mb-3">
                                <h6>별명 <span class="text-muted">예)대담한 통솔자</span></h6>
                                <input class="form-control" id="result-name-input" type="text" required>
                            </div>
                            <div id="result-type-div" class="mb-3">
                                <h6>타입 <span class="text-muted">예) 에너지방향: E</span></h6>
                            </div>
                            <div class="mb-3" id="result-description-div">
                                <h6>설명 <span class="text-muted">예)통솔자형 사람은 천성적으로 타고난 리더로...</span></h6>
                                <textarea name="result-description-textarea" id="result-description-textarea"
                                    class="form-control"></textarea>
                            </div>
                            <div class="mb-3" id="result-perfect-match-div">
                                <h6>최고의 궁합 <span class="text-muted">(선택사항)</span></h6>
                                <input class="form-control" type="text" id="result-perfect-match-name"
                                    placeholder="별명 예)사교적인 외교관">
                                <div class="mt-2">
                                    <textarea name="result-perfect-match-description"
                                        id="result-perfect-match-description" class="form-control"
                                        placeholder="설명 예)사교형 사람은 통솔자형 사람과..."></textarea>
                                </div>
                            </div>
                            <div class="mb-3" id="result-worst-match-div">
                                <h6>최악의 궁합 <span class="text-muted">(선택사항)</span></h6>
                                <input class="form-control" type="text" id="result-worst-match-name"
                                    placeholder="별명 예)사교적인 외교관">
                                <div class="mt-2">
                                    <textarea name="result-worst-match-description" id="result-worst-match-description"
                                        class="form-control" placeholder="설명 예)사교형 사람은 통솔자형 사람과..."></textarea>
                                </div>
                            </div>
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4 mb-3">
                                <div id="result-empty-input-alert" class="col-10 offset-1 alert alert-primary my-4"
                                    style="display: none;" role="alert">
                                    모든 값을 입력한 후에 추가해 주세요.
                                </div>
                                <div id="result-same-input-alert" class="col-10 offset-1 alert alert-primary my-4"
                                    style="display: none;" role="alert">
                                    최고의 궁합과 최악의 궁합의 값이 같을 수 없습니다.
                                </div>
                                <button id="add-result-button" class="btn btn-outline-primary text-wrap"
                                    type="button">결과 추가</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="finished-result-div" class="col-md-10 offset-md-1 col-xl-8 offset-xl-2 mt-5">
                </div>
            </div>
        </div>

        <div class="col-md-8 offset-md-2 col-xl-6 offset-xl-3 d-flex justify-content-between mb-3">
            <button id="before-button" class="btn btn-primary m-1" type="button">이전</button>
            <button id="next-button" class="btn btn-primary m-1" type="button">다음</button>
            <!-- <form id="submit-form" action="/makeTest" method="post"> -->
            <button id="finish-button" class="btn btn-primary m-1" type="submit">테스트 완성</button>
            <!-- </form> -->
        </div>

    </div>



    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="/makeTest.js"></script>